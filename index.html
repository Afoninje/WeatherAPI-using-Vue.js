<!DOCTYPE html>
<html>
  <head>
    <title>Weather App</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.13/vue.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="loader_bg">
      <div class="loader">
        <!-- partial:index.partial.html -->
        <svg
          class="sunny-moony"
          xmlns="http://www.w3.org/2000/svg"
          viewbox="0 0 140.22917 47.625001"
        >
          <g transform="translate(30.4270831 -253.30314617)">
            <path
              class="cloud cloud--static"
              d="M28.400015 276.59647a1.904456 1.904456 0 00-1.374592.55759 1.904456 1.904456 0 00-.458886.74363 1.904456 1.904456 0 00-2.1947.35605 1.904456 1.904456 0 00-.35605 2.19624 1.904456 1.904456 0 00-.743624.45734 1.904456 1.904456 0 000 2.69338 1.904456 1.904456 0 00.743624.4594 1.904456 1.904456 0 00.35605 2.1947 1.904456 1.904456 0 002.196251.35605 1.904456 1.904456 0 00.457335.74311 1.904456 1.904456 0 002.693376 0 1.904456 1.904456 0 00.459404-.74363 1.904456 1.904456 0 002.194698-.35553 1.904456 1.904456 0 00.356049-2.19677 1.904456 1.904456 0 00.743107-.45733 1.904456 1.904456 0 000-2.69338 1.904456 1.904456 0 00-.743622-.45889 1.904456 1.904456 0 00-.355534-2.19469 1.904456 1.904456 0 00-2.196767-.35605 1.904456 1.904456 0 00-.457335-.74363 1.904456 1.904456 0 00-1.318784-.55759z"
            ></path>
            <path
              class="cloud cloud--static"
              d="M39.715405 276.66449a1.904456 1.904456 0 00-1.374592.55759 1.904456 1.904456 0 00-.458886.74363 1.904456 1.904456 0 00-2.1947.35605 1.904456 1.904456 0 00-.35605 2.19624 1.904456 1.904456 0 00-.743624.45734 1.904456 1.904456 0 000 2.69338 1.904456 1.904456 0 00.743624.4594 1.904456 1.904456 0 00.35605 2.1947 1.904456 1.904456 0 002.196251.35605 1.904456 1.904456 0 00.457335.74311 1.904456 1.904456 0 002.693376 0 1.904456 1.904456 0 00.459404-.74363 1.904456 1.904456 0 002.194698-.35553 1.904456 1.904456 0 00.356049-2.19677 1.904456 1.904456 0 00.743107-.45733 1.904456 1.904456 0 000-2.69338 1.904456 1.904456 0 00-.743622-.45889 1.904456 1.904456 0 00-.355534-2.19469 1.904456 1.904456 0 00-2.196767-.35605 1.904456 1.904456 0 00-.457335-.74363 1.904456 1.904456 0 00-1.318784-.55759z"
            ></path>
            <path
              class="cloud cloud--static"
              d="M51.030797 276.66449a1.904456 1.904456 0 00-1.374592.55759 1.904456 1.904456 0 00-.458886.74363 1.904456 1.904456 0 00-2.1947.35605 1.904456 1.904456 0 00-.35605 2.19624 1.904456 1.904456 0 00-.743624.45734 1.904456 1.904456 0 000 2.69338 1.904456 1.904456 0 00.743624.4594 1.904456 1.904456 0 00.35605 2.1947 1.904456 1.904456 0 002.196251.35605 1.904456 1.904456 0 00.457335.74311 1.904456 1.904456 0 002.693376 0 1.904456 1.904456 0 00.459404-.74363 1.904456 1.904456 0 002.194698-.35553 1.904456 1.904456 0 00.356049-2.19677 1.904456 1.904456 0 00.743107-.45733 1.904456 1.904456 0 000-2.69338 1.904456 1.904456 0 00-.743622-.45889 1.904456 1.904456 0 00-.355534-2.19469 1.904456 1.904456 0 00-2.196767-.35605 1.904456 1.904456 0 00-.457335-.74363 1.904456 1.904456 0 00-1.318784-.55759z"
            ></path>
            <g
              class="sunny-moony__sun"
              transform="translate(-15.33403 12.199538)"
            >
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  ry=".85020351"
                  y="266.68771"
                  x="76.802017"
                  height="6.7336116"
                  width="1.700407"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  width="1.700407"
                  height="6.7336116"
                  x="76.802017"
                  y="266.68771"
                  ry=".85020351"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  ry=".85020351"
                  y="266.68771"
                  x="76.802017"
                  height="6.7336116"
                  width="1.700407"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  width="1.700407"
                  height="6.7336116"
                  x="76.802017"
                  y="266.68771"
                  ry=".85020351"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  ry=".85020351"
                  y="266.68771"
                  x="76.802017"
                  height="6.7336116"
                  width="1.700407"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  width="1.700407"
                  height="6.7336116"
                  x="76.802017"
                  y="266.68771"
                  ry=".85020351"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  ry=".85020351"
                  y="266.68771"
                  x="76.802017"
                  height="6.7336116"
                  width="1.700407"
                ></rect>
              </g>
              <g class="sun__ray-wrap">
                <rect
                  class="sun__ray"
                  width="1.700407"
                  height="6.7336116"
                  x="76.802017"
                  y="266.68771"
                  ry=".85020351"
                ></rect>
              </g>
              <path
                class="sun"
                d="M81.652814 274.05511c-2.209469 2.20946-5.791721 2.20946-8.001189-.00001-2.209462-2.20946-2.209462-5.79172 0-8.00118 2.209468-2.20947 5.79172-2.20948 8.001189-.00001 2.209468 2.20947 2.209468 5.79173 0 8.0012z"
              ></path>
              <path
                class="sun__cloud"
                d="M77.680127 264.39695a1.904456 1.904456 0 00-1.374592.55759 1.904456 1.904456 0 00-.458886.74363 1.904456 1.904456 0 00-2.1947.35605 1.904456 1.904456 0 00-.35605 2.19624 1.904456 1.904456 0 00-.743624.45734 1.904456 1.904456 0 000 2.69338 1.904456 1.904456 0 00.743624.4594 1.904456 1.904456 0 00.35605 2.1947 1.904456 1.904456 0 002.196251.35605 1.904456 1.904456 0 00.457335.74311 1.904456 1.904456 0 002.693376 0 1.904456 1.904456 0 00.459404-.74363 1.904456 1.904456 0 002.194698-.35553 1.904456 1.904456 0 00.356049-2.19677 1.904456 1.904456 0 00.743107-.45733 1.904456 1.904456 0 000-2.69338 1.904456 1.904456 0 00-.743622-.45889 1.904456 1.904456 0 00-.355534-2.19469 1.904456 1.904456 0 00-2.196767-.35605 1.904456 1.904456 0 00-.457335-.74363 1.904456 1.904456 0 00-1.318784-.55759z"
                fill="#4d4d4d"
              ></path>
            </g>
            <g class="cloud-and-stars">
              <g class="clouds-dud" style="opacity: 0;">
                <path
                  class="cloud-path"
                  d="M12.976038 277.820928a5.7937272 5.7937272 0 00-5.7763908 5.44153 3.4811737 3.4811737 0 00-.8211396-.10232 3.4811737 3.4811737 0 00-3.4814406 3.48092 3.4811737 3.4811737 0 003.4814406 3.48145H23.212106a3.1751005 3.1751005 0 003.175516-3.17552 3.1751005 3.1751005 0 00-3.133659-3.17293 3.9572877 3.9572877 0 00.0047-.0915 3.9572877 3.9572877 0 00-3.957381-3.95738 3.9572877 3.9572877 0 00-1.711523.39326 5.7937272 5.7937272 0 00-4.613672-2.29754z"
                ></path>
              </g>
              <g class="stars">
                <path
                  class="stars-path"
                  d="M5.9614505 278.866758l-.4571285.0119-.2493413.38332-.1525884-.43107-.4416133-.11869.3628235-.27833-.023591-.45667.3768259.25906.4270335-.16356-.1299326.43844zM3.941467 292.910448l-.241402-.27263-.361445.0443.184695-.31384-.153824-.33006.35555.0787.266377-.24829.03505.36246.318454.17661-.333889.14534zM20.1013131 294.160918l-.3719498.11234-.118324.37009-.221777-.31904-.3885392.002.234884-.3095-.1218064-.36896.3669433.12774.3132587-.22986-.0081.38846zM24.4298455 278.866778l-.2265258-.38682-.4470788-.0327.2978928-.33497-.1070641-.4353.4106337.1798.3809095-.23634-.044107.4461.3424792.28923-.4378936.0959zM27.903033 290.016758l-.395679-.64058-.752015-.0372.486962-.57426-.197-.72671.696638.28567.630263-.41192-.05642.75082.586523.47212-.731504.17836zM11.973298 294.066288l-.6300807.31096-.1010381.69534-.4904493-.50315-.6925256.11877.3269662-.62192-.3269662-.62193.6925256.11878.4904493-.50315.1010381.69533zM1.35803807 284.52489138l-.59904028-.4703737-.72707759.22685189.26220194-.71508846-.44042579-.62139275.76111464.0283961.45488053-.61088902.20819347.73263644.7215586.24383731-.63244349.42439945zM13.82230515 274.97269136l-.59904027-.47037371-.7270776.2268519.26220195-.71508846-.44042579-.62139276.76111464.0283961.45488052-.61088902.20819347.73263645.7215586.2438373-.63244348.42439945z"
                ></path>
              </g>
            </g>
            <g class="sunny-moony__moon">
              <path
                class="moon"
                d="M22.714506 282.254048a5.6576948 5.6576948 0 01-5.657695 5.6577 5.6576948 5.6576948 0 01-5.657695-5.6577 5.6576948 5.6576948 0 015.657695-5.65769 5.6576948 5.6576948 0 015.657695 5.65769z"
              ></path>
              <path
                class="moon__cloud"
                d="M17.084716 276.596488a1.904456 1.904456 0 00-1.374592.55759 1.904456 1.904456 0 00-.458886.74363 1.904456 1.904456 0 00-2.1947.35605 1.904456 1.904456 0 00-.35605 2.19624 1.904456 1.904456 0 00-.743624.45734 1.904456 1.904456 0 000 2.69338 1.904456 1.904456 0 00.743624.4594 1.904456 1.904456 0 00.35605 2.1947 1.904456 1.904456 0 002.196251.35605 1.904456 1.904456 0 00.457335.74311 1.904456 1.904456 0 002.693376 0 1.904456 1.904456 0 00.459404-.74363 1.904456 1.904456 0 002.194698-.35553 1.904456 1.904456 0 00.356049-2.19677 1.904456 1.904456 0 00.743107-.45733 1.904456 1.904456 0 000-2.69338 1.904456 1.904456 0 00-.743622-.45889 1.904456 1.904456 0 00-.355534-2.19469 1.904456 1.904456 0 00-2.196767-.35605 1.904456 1.904456 0 00-.457335-.74363 1.904456 1.904456 0 00-1.318784-.55759z"
              ></path>
            </g>
            <g class="cloud-and-stars">
              <g class="clouds">
                <path
                  class="cloud-path"
                  d="M12.976038 277.820928a5.7937272 5.7937272 0 00-5.7763908 5.44153 3.4811737 3.4811737 0 00-.8211396-.10232 3.4811737 3.4811737 0 00-3.4814406 3.48092 3.4811737 3.4811737 0 003.4814406 3.48145H23.212106a3.1751005 3.1751005 0 003.175516-3.17552 3.1751005 3.1751005 0 00-3.133659-3.17293 3.9572877 3.9572877 0 00.0047-.0915 3.9572877 3.9572877 0 00-3.957381-3.95738 3.9572877 3.9572877 0 00-1.711523.39326 5.7937272 5.7937272 0 00-4.613672-2.29754z"
                ></path>
              </g>
              <g class="stars-dud" style="opacity: 0;">
                <path
                  class="stars-path"
                  d="M5.9614505 278.866758l-.4571285.0119-.2493413.38332-.1525884-.43107-.4416133-.11869.3628235-.27833-.023591-.45667.3768259.25906.4270335-.16356-.1299326.43844zM3.941467 292.910448l-.241402-.27263-.361445.0443.184695-.31384-.153824-.33006.35555.0787.266377-.24829.03505.36246.318454.17661-.333889.14534zM20.1013131 294.160918l-.3719498.11234-.118324.37009-.221777-.31904-.3885392.002.234884-.3095-.1218064-.36896.3669433.12774.3132587-.22986-.0081.38846zM24.4298455 278.866778l-.2265258-.38682-.4470788-.0327.2978928-.33497-.1070641-.4353.4106337.1798.3809095-.23634-.044107.4461.3424792.28923-.4378936.0959zM27.903033 290.016758l-.395679-.64058-.752015-.0372.486962-.57426-.197-.72671.696638.28567.630263-.41192-.05642.75082.586523.47212-.731504.17836zM11.973298 294.066288l-.6300807.31096-.1010381.69534-.4904493-.50315-.6925256.11877.3269662-.62192-.3269662-.62193.6925256.11878.4904493-.50315.1010381.69533zM1.35803807 284.52489138l-.59904028-.4703737-.72707759.22685189.26220194-.71508846-.44042579-.62139275.76111464.0283961.45488053-.61088902.20819347.73263644.7215586.24383731-.63244349.42439945zM13.82230515 274.97269136l-.59904027-.47037371-.7270776.2268519.26220195-.71508846-.44042579-.62139276.76111464.0283961.45488052-.61088902.20819347.73263645.7215586.2438373-.63244348.42439945z"
                ></path>
              </g>
            </g>
          </g>
        </svg>
      </div>
    </div>
    <!-- partial -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.1.1/gsap.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js"></script>
    <script src="main.js"></script>

    <div id="app" class="background">
      <div class="container">
        <div class="container">
          <form class="mt-5">
            <div class="form-group">
              <strong style="color: black;">Search for City</strong>
              <input
                type="text"
                v-model="citycopy"
                id="citysearch"
                class="form-control form-control-lg"
              />
            </div>

            <button
              type="submit"
              @click.prevent="process"
              class="btn btn-primary"
            >
              Search
            </button>
            <button
              type="submit"
              @click.prevent="myFunction()"
              class="btn btn-primary"
            >
              Information About Your Current Location
            </button>
          </form>
          <strong style="color: aliceblue;"
            >Note: You will only be able to get information about your current
            location on mobile devices if you have locations turned on in the
            settings</strong
          >

          <div id="app" v-show="submitted" v-cloak>
            <div class="container" background>
              <div class="card mt-5">
                <h2 class="card-header">Information for: {{city}}</h2>
                <table
                  role="table"
                  class="table table-bordered table-responsive-sm"
                >
                  <thead role="rowgroup" class="thead-dark">
                    <tr role="row">
                      <th></th>
                      <th role="columnheader">Current Temperature:</th>
                      <th role="columnheader">Description:</th>
                      <th role="columnheader">Current Pressure:</th>
                      <th role="columnheader">Current Humidity:</th>
                    </tr>
                  </thead>
                  <tbody role="rowgroup">
                    <tr role="row">
                      <td class="text-center" role="cell">
                        <img :src="findmaindesc" />
                      </td>
                      <td class="text-center" role="cell">{{findtemp}}°C</td>
                      <td class="text-center" role="cell">{{finddesc}}</td>
                      <td class="text-center" role="cell">
                        {{findpressure}} Pa
                      </td>
                      <td class="text-center" role="cell">{{findhumidity}}%</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div id="app" v-cloak v-show="usersubmitted">
            <div class="container">
              <div class="card">
                <h2 class="card-header">Your Current Location</h2>
                <table class="table table-bordered table-responsive-sm">
                  <thead class="thead-dark">
                    <th></th>
                    <th th class="text-center">Current Temperature:</th>
                    <th th class="text-center">Description:</th>
                    <th th class="text-center">Current Pressure:</th>
                    <th th class="text-center">Current Humidity:</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="text-center"><img :src="usermaindesc" /></td>
                      <td class="text-center">{{usertemp}}°C</td>
                      <td class="text-center">{{userdesc}}</td>
                      <td class="text-center">{{userpressure}} Pa</td>
                      <td class="text-center">{{userhumidity}}%</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script>
      var url =
        "https://api.openweathermap.org/data/2.5/weather?q=&appid=ad59e4fb24b7f88d5eaf006cc977159e";
      var urlcopy =
        "https://api.openweathermap.org/data/2.5/weather?q=&appid=ad59e4fb24b7f88d5eaf006cc977159e";

      var vm = new Vue({
        el: "#app",
        vuetify: new Vuetify(),
        data: {
          city: "",
          citycopy: "",
          submitted: false,
          usersubmitted: false,
          observation_time: "",
          findtemp: "",
          finddesc: "",
          findhumidity: "",
          findpressure: "",
          error: "",
          lat: "",
          lon: "",
          userdesc: "",
          usertemp: "",
          userpressure: "",
          userhumidity: "",
          findIconCode: "",
          userIconCode: "",
          displayImageURL: "",
          usermaindesc: "",
          findmaindesc: "",
        },

        methods: {
          process: function () {
            this.submitted = true;
            this.usersubmitted = false;

            vm.city = vm.citycopy;

            var url =
              "https://api.openweathermap.org/data/2.5/weather?q=" +
              vm.city +
              "&appid=ad59e4fb24b7f88d5eaf006cc977159e";

            axios.get(url).then(function (res) {
              console.clear();
              console.log(res);

              vm.finddesc = res.data.weather[0].description;
              vm.findhumidity = res.data.main.humidity;
              vm.findpressure = res.data.main.pressure;
              vm.findtemp = res.data.main.temp;
              vm.findtemp = vm.findtemp - 273.15;
              vm.findtemp = vm.findtemp.toFixed(2);
              vm.findIconCode = res.data.weather[0].icon;
              vm.findmaindesc = res.data.weather[0].main;

              if (vm.findIconCode == "01d") {
                vm.findmaindesc = "WeatherPhotos/sunny.gif";
              } else if (vm.findIconCode == "01n") {
                vm.findmaindesc = "WeatherPhotos/night.gif";
              } else if (vm.findmaindesc == "Clouds") {
                vm.findmaindesc = "WeatherPhotos/partlycloud.gif";
              } else if (vm.findmaindesc == "Snow") {
                vm.findmaindesc = "WeatherPhotos/snow.gif";
              } else if (vm.findmaindesc == "Rain") {
                vm.findmaindesc = "WeatherPhotos/rain.gif";
              } else if (vm.findmaindesc == "Drizzle") {
                vm.findmaindesc = "WeatherPhotos/rain.gif";
              } else if (vm.findmaindesc == "Thunderstorm") {
                vm.findmaindesc = "WeatherPhotos/thunder.gif";
              } else if (vm.findmaindesc == "Dust") {
                vm.findmaindesc = "WeatherPhotos/Wind.gif";
              } else if (vm.findmaindesc == "Tornado") {
                vm.findmaindesc = "WeatherPhotos/Wind.gif";
              } else {
                vm.findmaindesc = "WeatherPhotos/Mist.gif";
              }

              url = urlcopy;
            });
          },

          myFunction: function () {
            if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(this.showPosition);
            } else {
              this.error = "Geolocation is not supported.";
            }
          },
          showPosition: function (position) {
            this.lat = position.coords.latitude;
            this.lon = position.coords.longitude;

            axios
              .get(
                "https://api.openweathermap.org/data/2.5/weather?lat=" +
                  this.lat +
                  "&lon=" +
                  this.lon +
                  "&appid=ad59e4fb24b7f88d5eaf006cc977159e"
              )
              .then(function (res2) {
                console.clear();
                console.log(res2);

                vm.userdesc = res2.data.weather[0].description;
                vm.userhumidity = res2.data.main.humidity;
                vm.userpressure = res2.data.main.pressure;
                vm.usertemp = res2.data.main.temp;
                vm.usertemp = vm.usertemp - 273.15;
                vm.usertemp = vm.usertemp.toFixed(2);
                vm.userIconCode = res2.data.weather[0].icon;
                vm.usermaindesc = res2.data.weather[0].main;

                if (vm.userIconCode == "01d") {
                  vm.usermaindesc = "WeatherPhotos/sunny.gif";
                } else if (vm.userIconCode == "01n") {
                  vm.usermaindesc = "WeatherPhotos/night.gif";
                } else if (vm.usermaindesc == "Clouds") {
                  vm.usermaindesc = "WeatherPhotos/partlycloud.gif";
                } else if (vm.usermaindesc == "Snow") {
                  vm.usermaindesc = "WeatherPhotos/snow.gif";
                } else if (vm.usermaindesc == "Rain") {
                  vm.usermaindesc = "WeatherPhotos/rain.gif";
                } else if (vm.usermaindesc == "Drizzle") {
                  vm.usermaindesc = "WeatherPhotos/rain.gif";
                } else if (vm.usermaindesc == "Thunderstorm") {
                  vm.usermaindesc = "WeatherPhotos/thunder.gif";
                } else if (vm.usermaindesc == "Dust") {
                  vm.usermaindesc = "WeatherPhotos/Wind.gif";
                } else if (vm.usermaindesc == "Tornado") {
                  vm.usermaindesc = "WeatherPhotos/Wind.gif";
                } else {
                  vm.usermaindesc = "WeatherPhotos/Mist.gif";
                }
              });
            this.usersubmitted = true;
            this.submitted = false;
          },
        },
      });
    </script>
  </body>
</html>
